<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:p="http://www.springframework.org/schema/p"
	xmlns:c="http://www.springframework.org/schema/c"
	xmlns:mybatis="http://mybatis.org/schema/mybatis-spring"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xmlns:context="http://www.springframework.org/schema/context"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
						http://www.springframework.org/schema/beans/spring-beans.xsd
						http://www.springframework.org/schema/context
						http://www.springframework.org/schema/context/spring-context.xsd
						http://www.springframework.org/schema/mvc
						http://www.springframework.org/schema/mvc/spring-mvc.xsd
						http://www.springframework.org/schema/tx
						http://www.springframework.org/schema/tx/spring-tx.xsd
						http://mybatis.org/schema/mybatis-spring 
			            http://mybatis.org/schema/mybatis-spring.xsd">
			<!-- 不会拦截静态资源，图片文件 -->			
	 	<mvc:default-servlet-handler/>
      	<!-- 自动扫包 -->
		<context:component-scan base-package="com.xiaoyue.ssm">
		<!-- exclude-filter不扫描注解的类 -->
			<context:exclude-filter type="annotation" expression="org.springframework.stereotype.Controller"/>
			<context:exclude-filter type="annotation" expression="org.springframework.web.bind.annotation.ControllerAdvice"/>
		</context:component-scan>
		
		 <!-- mybatis:scan会将org.fkit.mapper包里的所有接口当作mapper配置，之后可以自动引入mapper类-->  
  	  <mybatis:scan base-package="com.xiaoyue.ssm.mapper"/>  
	  	
	  	<!-- 通用配置 -->
	     <mvc:annotation-driven conversion-service="conversionService"/>
	 <!--    配置数据类型转换器 -->
	    <bean id="conversionService" class="org.springframework.context.support.ConversionServiceFactoryBean">
	    	<property name="converters">
	    		<list>
	    		<!-- 指定自定义时间类型转换器。 -->
	    			<bean class="com.xiaoyue.ssm.converters.DateFormatConverter"></bean>
	    		</list>
	    	</property>
	    </bean> 
	    
	 <!-- 配置拦截器 -->
		<mvc:interceptors>
			<mvc:interceptor>
			<!-- 指定要拦截的路径 -->
				<mvc:mapping path="/listStudent"/>
				<!-- 指定自定义权限检查拦截器 -->
				<bean class="com.xiaoyue.ssm.Interceptor.LoginInterceptor"></bean>
				
			</mvc:interceptor>
		</mvc:interceptors>
	 
	 
	 	
	 	
	</beans>